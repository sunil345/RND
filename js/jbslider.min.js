$.fn.jbslider=function(a){var b=this;this.fixDimensions=function(){$(b).find(".JBSlider").width(b.width);$(b).find(".JBSlider").height(b.height);$(b).find(".view").width(b.width-280<0?0:b.width-280);$(b).find(".view .wrapper").width(b.width-295<0?0:b.width-295);$(b).find(".view .wrapper .item").width(b.width-295<0?0:b.width-295);$(b).find(".view .wrapper .item img").width(b.width-296<0?0:b.width-297);$(b).find(".view .wrapper .item .descBlock").width(b.width-296<0?0:b.width-296);$(b).find(".view .wrapper .item .description").width(b.width-296<0?0:b.width-296);$(b).find(".view .wrapper .item .description h1").width(b.width-400<0?0:b.width-400);$(b).find(".view .wrapper .item .description p").width(b.width-400<0?0:b.width-400);$(b).find(".view").height(b.height);$(b).find(".view .wrapper").height(b.height-20<0?0:b.height-20);$(b).find(".view .wrapper .item").height(b.height-21<0?0:b.height-21);$(b).find(".view .wrapper .item img").height(b.height-21<0?0:b.height-21);$(b).find(".controller").height(b.height);$(b).find(".controller .wrapper").height(b.height-10<0?0:b.height-10);b.vItemHeight=Number($(b).find(".view .wrapper .item").height())+2;b.vItemWidth=Number($(b).find(".view .wrapper .item").width())};this.organize=function(){$(b).find(".view .wrapper .descBlock").css({opacity:b.descOpacity});$(b).find(".controller .wrapper .item").each(function(a){$(this).addClass("i"+a)});$(b).find(".view .wrapper .item").each(function(a){$(this).addClass("i"+a)});$(b).find(".controller .wrapper .item:last").after($(b).find(".controller .wrapper .item:first"));$(b).find(".controller .wrapper .item").each(function(a){$(this).css({top:b.mItemHeight*a})});$(b).find(".view .wrapper .item").each(function(a){$(this).css({left:b.vItemWidth*a})});$(b).find(".controller .wrapper .container").css({height:b.mItemHeight*(b.mTotal-1)-2});$(b).find(".view .wrapper .item:gt(0)").hide()};this.controller=function(){$(b).find(".controller .wrapper .item").click(function(){if($(b).find(".controller .wrapper .item").is(":animated")){return}b.item=$(this).attr("class").replace("item ",".item.");var a=$(this).index();b.mClone=$(this).clone(true);$(b).find(".controller .wrapper .item:last").after(b.mClone);$(b).find(".controller .wrapper .item:last").css({top:b.mItemHeight*b.mTotal});$(this).animate({left:-1*b.mItemWidth},b.slideSpeed,b.transEffect,function(){$(this).remove()});$(b).find(".controller .wrapper .item:gt("+a+")").each(function(){$(this).animate({top:$(this).position().top-b.mItemHeight},b.slideSpeed,b.transEffect)});b.view()})};this.view=function(){$(b).find(".view .wrapper "+b.item).css({left:0+b.vItemWidth}).show();$(b).find(".view .wrapper "+b.cItem).animate({left:-1*b.vItemWidth},b.slideSpeed,b.transEffect,function(){$(this).hide()});$(b).find(".view .wrapper .item .description").animate({opacity:0});$(b).find(".view .wrapper .item .description .itemLink").animate({opacity:0});$(b).find(".view .wrapper .item .descBlock").animate({opacity:0});$(b).find(".view .wrapper "+b.item).animate({left:0},b.slideSpeed,b.transEffect,function(){b.description()});b.cItem=b.item};this.description=function(){$(b).find(".view .wrapper "+b.item+" .descBlock").animate({opacity:b.descOpacity});$(b).find(".view .wrapper "+b.item+" .description").animate({opacity:1});$(b).find(".view .wrapper "+b.item+" .description .itemLink").animate({opacity:1})};this.scroller=function(){$(b).find(".controller .wrapper").jScrollPane({verticalDragMaxHeight:"61",hideFocus:true})};this.automate=function(){if(b.autoSlide!=0){var a=0;$(".JBSlider").on("mouseover mouseout",function(b){if(b.type=="mouseover"){a=1}else{a=0}});setInterval(function(){if(a!=1){$(b).find(".controller .wrapper .container .item:first").trigger("click")}},b.autoSlide)}};b.mItemHeight=Number($(b).find(".controller .wrapper .item").height())+2;b.mItemWidth=Number($(b).find(".controller .wrapper .item").width());b.mTotal=Number($(b).find(".controller .wrapper .item").length);b.mClone=null;b.item=null;b.cItem=".item.i0";b.vItemHeight=Number($(b).find(".view .wrapper .item").height())+2;b.vItemWidth=Number($(b).find(".view .wrapper .item").width());b.width=a.width;b.height=a.height;b.descOpacity=a.descOpacity;b.transEffect=a.transEffect;b.slideSpeed=Number(a.slideSpeed);b.autoSlide=Number(a.autoSlide);b.fixDimensions();b.organize();b.controller();b.scroller();b.automate()}